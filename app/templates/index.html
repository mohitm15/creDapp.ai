<!DOCTYPE HTML>
<!--
	Solid State by HTML5 UP
	html5up.net | @ajlkn
	Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->
<html>
	<head>
		<title>CreÐApp.ai</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
		<link rel="stylesheet" href="{{ url_for('static', filename='css/main.css') }}" />
		<noscript><link rel="stylesheet" href="{{ url_for('static', filename='css/noscript.css') }}" /></noscript>
	</head>
	<body class="is-preload">

		<!-- Page Wrapper -->
			<div id="page-wrapper">

				<!-- Header -->
					<header id="header" class="alt">
						<h1><a href="/">CreÐApp.ai</a></h1>
						<nav>
							<a href="#menu">Menu</a>
						</nav>
					</header>

				<!-- Menu -->
					<nav id="menu">
						<div class="inner">
							<h2>Menu</h2>
							<ul class="links">
								<li><a href="/">Home</a></li>
								<li><a href="/about">About</a></li>
								<li><a href="/apply">Apply</a></li>
								<li><a href="#">Log In</a></li>
								<li><a href="#">Sign Up</a></li>
							</ul>
							<a href="#" class="close">Close</a>
						</div>
					</nav>

				<!-- Banner -->
					<section id="banner">
						<div class="inner">
							<div class="logo"><img src="https://png.icons8.com/color/50/000000/ethereum.png"></div>
							<h2>CreÐApp.ai</h2>
							<p>The first ever decentralized AI-driven credit rating solution</a></p>
						</div>
					</section>

					<center>
					<button id="contractCreator" name="contractCreator">Create Contract</button>
					<button id="applyLink" name="applyLink" value="/apply" onclick="gotoPage()" disabled>Apply</button>
				</center>

				<!-- Wrapper -->
					<section id="wrapper">

						<!-- One -->
							<section id="one" class="wrapper spotlight style1">
								<div class="inner">
									<a href="#" class="image"><img src="images/pic01.jpg" alt="" /></a>
									<div class="content">
										<h2 class="major">Intelligent Contracts</h2>
										<p>Replacing the middlemen using automated, AI-driven, distributed and transparent ledger.</p>
										<a href="https://www.investopedia.com/terms/s/smart-contracts.asp" class="special">Learn more</a>
									</div>
								</div>
							</section>

						<!-- Two -->
							<section id="two" class="wrapper alt spotlight style2">
								<div class="inner">
									<a href="#" class="image"><img src="images/pic02.jpg" alt="" /></a>
									<div class="content">
										<h2 class="major">Standardised Platform</h2>
										<p>A fair-to-all platform which provides honest credit scores/rating based on hundreds of parameters using a powerful decentralized AI model</p>
										<a href="#" class="special">Learn more</a>
									</div>
								</div>
							</section>

						<!-- Four -->
							<section id="four" class="wrapper alt style1">
								<div class="inner">
									<h2 class="major">Core Features</h2>
									<section class="features">
										<article>
											<a href="#" class="image"><img src="images/pic04.jpg" alt="" /></a>
											<h3 class="major">Massively Scalable</h3>
											<p>With Ethereum as the global network for computation and transaction processing, there are no more servers overloading and failing. </p>
											<a href="https://www.blockchain.com/" class="special">Learn more</a>
										</article>
										<article>
											<a href="#" class="image"><img src="images/pic05.jpg" alt="" /></a>
											<h3 class="major">Solving Corruption</h3>
											<p>Corruption is a trust problem plagued by collusion.Using an immutable public ledger as a rock-bed for all transactional evidence forces transparency onto officials and contractors, exponentially speeding up audits by third parties like journalists & government watchdog groups.</p>
											<a href="https://www.blockchain.com/" class="special">Learn more</a>
										</article>
										<article>
											<a href="#" class="image"><img src="images/pic06.jpg" alt="" /></a>
											<h3 class="major">Decentralized</h3>
											<p>Government and public bodies are auditors of themselves.</p>
											<a href="https://www.blockchain.com/" class="special">Learn more</a>
										</article>
										<article>
											<a href="#" class="image"><img src="images/pic07.jpg" alt="" /></a>
											<h3 class="major">Autonomous Transactions</h3>
											<p>With smart contracts governing transactions, justice to tenders is embedded immutably into the code. </p>
											<a href="https://www.blockchain.com/" class="special">Learn more</a>
										</article>
									</section>
									<ul class="actions">
										<li><a href="#" class="button">Browse All</a></li>
									</ul>
								</div>
							</section>

					</section>

				<!-- Footer -->
					<section id="footer">
						<div class="inner">
							<h2 class="major">Get in touch</h2>
							<p>We would love to hear from you. Any improvements, ideas or features that you think must be added then please let us know!</p>
							<form method="post" action="#">
								<div class="fields">
									<div class="field">
										<label for="name">Name</label>
										<input type="text" name="name" id="name" />
									</div>
									<div class="field">
										<label for="email">Email</label>
										<input type="email" name="email" id="email" />
									</div>
									<div class="field">
										<label for="message">Message</label>
										<textarea name="message" id="message" rows="4"></textarea>
									</div>
								</div>
								<ul class="actions">
									<li><input type="submit" value="Send Message" /></li>
								</ul>
							</form>
							<ul class="contact">
								<li class="fa-home">
									The Next Tech Lab<br />
									SRM Institute of Science and Technology<br />
									Chennai, 603203
								</li>
								<li class="fa-phone">(730) 682-7761</li>
								<li class="fa-envelope"><a href="#">info@nextech.io</a></li>
								<li class="fa-twitter"><a href="#">twitter.com/nexttechlab</a></li>
								<li class="fa-facebook"><a href="#">facebook.com/NextTechSRM</a></li>
								<li class="fa-instagram"><a href="#">instagram.com/nexttechlab</a></li>
							</ul>
							<ul class="copyright">
								<li>&copy; All rights reserved.</li><li>Made with ❤️ by Team: Esketit</li>
							</ul>
						</div>
					</section>

			</div>

		<!-- Scripts -->
			<script src="{{ url_for('static', filename='js/jquery.min.js') }}"></script>
			<script src="{{ url_for('static', filename='js/jquery.scrollex.min.js') }}"></script>
			<script src="{{ url_for('static', filename='js/browser.min.js') }}"></script>
			<script src="{{ url_for('static', filename='js/breakpoints.min.js') }}"></script>
			<script src="{{ url_for('static', filename='js/util.js') }}"></script>
			<script src="{{ url_for('static', filename='js/main.js') }}"></script>

			<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/web3@0.19.0/dist/web3.min.js"></script>

			<script>
				if(typeof web3 !== 'undefined')
				{
				  web3 = new Web3(web3.currentProvider);
				}
				else
				{
				  alert("Install MetaMask / other Web3 Injector to use this service");
				  web3 = new Web3(new Web3.providers.HttpProvider("http://localhost:8545"));
				}
				web3.version.getNetwork((err, netId) => {
		   switch (netId) {
			 case "1":
			   console.log('This is mainnet')
			   break
			 case "2":
			   console.log('This is the deprecated Morden test network.')
			   break
			 case "3":
			   console.log('This is the ropsten test network.')
			   break
			 case "4":
			   console.log('This is the Rinkeby test network.')
			   break
			 case "42":
			   console.log('This is the Kovan test network.')
			   break
			 default:
			   console.log('This is an unknown network.')
		   }
		   })
		   
		   // var thisContract =  "<%= currentContract %>";
		   var thisContract =  "0x0333978f1eda0724f6f6d7d9c9388fb88aa92138";
		   var abiArray = [
	{
		"constant": false,
		"inputs": [],
		"name": "createContract",
		"outputs": [],
		"payable": false,
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"constant": false,
		"inputs": [],
		"name": "Factory",
		"outputs": [],
		"payable": false,
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"constant": true,
		"inputs": [
			{
				"name": "",
				"type": "uint256"
			}
		],
		"name": "allFrauds",
		"outputs": [
			{
				"name": "",
				"type": "address"
			}
		],
		"payable": false,
		"stateMutability": "view",
		"type": "function"
	},
	{
		"constant": true,
		"inputs": [],
		"name": "factoryOwner",
		"outputs": [
			{
				"name": "",
				"type": "address"
			}
		],
		"payable": false,
		"stateMutability": "view",
		"type": "function"
	},
	{
		"constant": true,
		"inputs": [],
		"name": "fraudCount",
		"outputs": [
			{
				"name": "",
				"type": "uint256"
			}
		],
		"payable": false,
		"stateMutability": "view",
		"type": "function"
	},
	{
		"constant": true,
		"inputs": [],
		"name": "getAllContracts",
		"outputs": [
			{
				"name": "",
				"type": "address[]"
			}
		],
		"payable": false,
		"stateMutability": "view",
		"type": "function"
	},
	{
		"constant": true,
		"inputs": [
			{
				"name": "queryID",
				"type": "uint256"
			}
		],
		"name": "getByID",
		"outputs": [
			{
				"name": "",
				"type": "address"
			}
		],
		"payable": false,
		"stateMutability": "view",
		"type": "function"
	}
];
		   
		   console.log(thisContract);
		   console.log(abiArray);
		   
		   web3.eth.defaultAccount=web3.eth.accounts[0];
		   var testContract = web3.eth.contract(abiArray);
		   var test = testContract.at(thisContract);

		   var whichContract = "";

		   
		   $("#contractCreator").click(function() {

			test.createContract(function(err, res) {
				if (err) {
					console.log("Problem creating contract");
				} else {

					test.getAllContracts(function(error, result) {
						for (var i = 0; i < result.length; i++) {
							whichContract = result[i];
						}
						document.getElementById("applyLink").value += ("?contract=" + whichContract);
						document.getElementById("applyLink").disabled = false;
					});

				}

			});
		   });
		   


		   
		</script>   

		<script>
		
		function gotoPage() {
			var whatsTheLink = document.getElementById("applyLink").value;
			console.log(whatsTheLink);
			window.location = whatsTheLink;
		}
		
		</script>


	</body>
</html>
